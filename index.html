<!DOCTYPE html>
<html lang="en">

<head>
  <link href="./css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.7.5/sweetalert2.min.css" integrity="sha512-InYSgxgTnnt8BG3Yy0GcpSnorz5gxHvT6OEoRWj91Gg+RvNdCiAharnBe+XFIDS754Kd9TekdjXw3V7TAgh6Vw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <title>Formulario Presupuestos</title>
</head>


<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Sistema de Presupuestos</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto"> 
          <li class="nav-item active">
            <a class="nav-link" href="./Index.html">Presupuestar</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Consultas</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Datos</a>
          </li>
        </ul>
      </div>
    </nav>
    
  <div class="container">
    <h1 class="text-center mb-4">Formulario de Presupuesto</h1>
    <form>
      <div class="form-group row">
        <label for="numeroPresupuesto" class="col-sm-2 col-form-label">N° de Presupuesto:</label>
        <div class="col-sm-1">
          <div class="input-group">
            <input type="text" class="form-control" id="numeroPresupuesto" readonly>
          </div>
        </div>
        <label for="descripcionPresupuesto" class="col-sm-1 col-form-label">Descripción:</label>
        <div class="col-sm-5">
          <div class="input-group">
            <input type="text" class="form-control" id="descripcionPresupuesto">
          </div>
        </div>
        <div class="col-sm-3">
          <button id="btnLimpiarFormulario" class="btn btn-primary">Limpiar Formulario</button>
        </div>
      </div>
    </form>
    
  </header>
  </div>
  <div class="container border p-4">
    <h4 class="text-center text-light bg-info p-2">Materiales</h4>
    <div class="form-group row">
      <div class="col-sm-2">
        <label for="ingresarMaterial">Material</label>
        <input type="text" class="form-control" id="ingresarMaterial" maxlength="30" placeholder="Ingrese el material">
      </div>
      <div class="col-sm-2">
        <label for="selectProveedor">Proveedor</label>
        <select class="form-control" id="selectProveedor">

        </select>
      </div>
      <div class="col-sm-2">
        <label for="selectTipo">Tipo Material</label>
        <select class="form-control" id="selectTipo">
        </select>
      </div>
      <div class="col-sm-2">
        <label for="cantidad">Cantidad</label>
        <input type="text" class="form-control" id="cantidad" placeholder="Ingrese Cantidad">
      </div>
      <div class="col-sm-2">
        <label for="costo">Costo</label>
        <input type="text" class="form-control" id="costo" placeholder="Costo">
      </div>
      <div class="col-sm-2">
        <label for="selectIva">Iva</label>
        <select class="form-control" id="selectIva" placeholder="% IVA">
        </select>
      </div>
    </div>

    <button id="btnAgregarMat" class="btn btn-primary">Agregar</button>

    </form>
    <div class="contenedor-tabla">
      <table class="table mt-4 table-striped w-100" id="tablaMateriales">
        <thead class="thead-dark">
          <tr>
            <th>Descripción</th>
            <th>Proveedor</th>
            <th>Tipo</th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>% IVA</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="tablaItemMateriales">
        </tbody>
        <tfoot class="thead-dark">
          <tr>
            <td colspan="6" class="text-right">Total:</td>
            <td id="totalPresupuestoMat"></td>
          </tr>
        </tfoot>
      </table>
      <button id="btnEliminarMat" type="submit" class="btn btn-primary mb-4">Eliminar Todos</button>
    </div>
    <div class="row mb-4">
      <div class="col-lg-3">
        <div class="input-group">
          <span class="input-group-text">% de Ganancia para los Materiales:</span>
        </div>
      </div>
      <div class="col-lg-3">
        <input type="text" class="form-control" placeholder="% de ganancia" id="ganancia">
      </div>
      <div class="col-lg-3">
        <div class="input-group">
          <span class="input-group-text">Total Materiales con ganancia:</span>
        </div>
      </div>
      <div class="col-lg-2">
        <input type="text" class="form-control" id="total" readonly>
      </div>
      <div class="col-lg-1">
        <button id="btnCalculoMat" type="button" class="btn btn-dark">Calcular</button>
      </div>
    </div>
  </div>

  <div class="container mt-4 mb-4 border p-4">
    <h4 class="text-center text-light bg-info p-2">Mano de Obra</h4>
    <div class="form-group row">
      <div class="col-sm-3">
        <label for="selectTarea">Tarea</label>
        <select class="form-control" id="selectTarea">
        </select>
      </div>
      <div class="col-sm-3">
        <label for="horasHombre">Cantidad Horas</label>
        <input type="text" class="form-control" id="horasHombre" placeholder="Cantidad de horas hombre">
      </div>
      <div class="col-sm-3">
        <label for="costoMo">Costo Hora</label>
        <input type="text" class="form-control" id="costoMo" placeholder="Ingrese Costo Hora">
      </div>
      <div class="col-sm-2">
        <label for="selectIvaMo">Iva</label>
        <select class="form-control" id="selectIvaMo" placeholder="% IVA">
        </select>
      </div>
    </div>
    <button id="btnAgregarMo" type="submit" class="btn btn-primary">Agregar</button>
    </form>
    <div class="contenedor-tabla">
      <table class="table mt-4 table-striped w-100" id="tablaMO">
        <thead class="thead-dark">
          <tr>
            <th class="col-3">Tarea</th>
            <th class="col-3">Cantidad Horas Hombre</th>
            <th class="col-2">Costo Hora</th>
            <th class="col-2">% IVA</th>
            <th class="col-2">Total</th>
          </tr>
        </thead>
        <tbody id="tablatemMo">
        </tbody>
        <tfoot class="thead-dark">
          <tr>
            <td colspan="6" class="text-right">Total:</td>
            <td id="totalPresupuestoMo"></td>
          </tr>
        </tfoot>
      </table>
      <button id="btnEliminarMo" type="submit" class="btn btn-primary mb-4">Eliminar Todos</button>
    </div>
    <div class="row mb-4">
      <div class="col-lg-3">
        <div class="input-group">
          <span class="input-group-text">% de Ganancia para la mano de obra:</span>
        </div>
      </div>
      <div class="col-lg-3">
        <input type="text" class="form-control" placeholder="% de ganancia" id="gananciaMo">
      </div>
      <div class="col-lg-3">
        <div class="input-group">
          <span class="input-group-text">Total mano de obra con ganancia:</span>
        </div>
      </div>
      <div class="col-lg-2">
        <input type="text" class="form-control" id="totalMo" readonly>
      </div>
      <div class="col-lg-1">
        <button id="btnCalculoMo" type="button" class="btn btn-dark">Calcular</button>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row justify-content-center text-center">
      <div class="col-sm-3">
        <button id="btnConfirmaPresupuesto" class="btn btn-primary btn-block mb-4">Confirmar</button>
      </div>
      <div class="col-sm-3">
        <button id="btnAlmacenaPresupuesto" class="btn btn-primary btn-block mb-4">Enviar</button>
      </div>
    </div>
    
  </div>
  <div class="container" id="containerResumen">
    <div class="text-center">
      <h3 class="text-light bg-info p-3">Resumen del Presupuesto<span id="numPresu"> </span></h3>
      <div id="materialDatos" class="border p-4">
        <p>Costo Materiales : $ <span id="totalCostoProductos"></span></p>
        <p>% rentabilidad : $ <span id="rentabilidadProducto"></span></p>
        <p>Total Materiales : $ <span id="totalMateriales"></span></p>
        <p>Costo de mano de obra: $ <span id="totalCostoManoDeObra"></p>
        <p>% rentabilidad : $ <span id="rentabilidadManoDeObra"></span></p>
        <p>Total mano de obra : $ <span id="totalManoDeObra"></span></p>
        <p>Total iva : $ <span id="totalIva"></span></p>
        <h3>TOTAL PRESUPUESTO : $ <span id="totalPresupuesto"></span></h3>
      </div>
    </div>
  </div>
</body>
<script src="./js/sweetalert2.min.js"></script>
<script src="./JS/models/ManoObra.js"></script>
<script src="./JS/models/Materiales.js"></script>
<script src="./JS/models/PresupuestoHeader.js"></script>
<script src="./JS/models/PresupuestoItems.js"></script>
<script src="./JS/models/Proveedores.js"></script>
<script src="./JS/models/TiposIva.js"></script>
<script src="./JS/models/TiposMateriales.js"></script>
<script src="./JS/models/TiposTareas.js"></script>
<script src="./JS/getElementosDom.js"></script>
<script src="./JS/cargaData.js"></script>
<script src="./JS/funcionesMateriales.js"></script>
<script src="./JS/funcionesManoDeObra.js"></script>
<script src="./JS/funcionesResumen.js"></script>
<script src="./JS/mainDom.js"></script>
</body>

</html>